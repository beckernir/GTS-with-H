# GrantTracker Project Help Guide

This document provides a comprehensive overview of the GrantTracker Django project. It explains the structure, the purpose of each main file and folder, and how the different parts of the project connect. Use this as a reference for onboarding or understanding the codebase.

---

## 1. Top-Level Structure

```
granttracker/
│
├── ai_engine/
├── api/
├── budget/
├── community/
├── core/
├── grants/
├── procurement/
├── reporting/
├── training/
│
├── granttracker/
├── manage.py
├── requirements.txt
├── static/
├── templates/
├── media/
```

---

## 2. Project Root Files

- **manage.py**  
  Django’s command-line utility. Used to run the server, migrations, shell, etc.

- **requirements.txt**  
  Lists Python dependencies for the project.

- **granttracker.sql / granttracker (3).sql**  
  Likely database dumps/backups.

- **media/**  
  Stores user-uploaded files (e.g., documents, images).

- **static/**  
  Contains static files (CSS, JS, images) for the site.

- **templates/**  
  Contains HTML templates for rendering web pages, organized by app.

---

## 3. The `granttracker/` Folder (Project Settings)

- **granttracker/__init__.py**  
  Marks this as a Python package.

- **granttracker/settings.py**  
  Main Django settings (database, installed apps, middleware, etc.).

- **granttracker/urls.py**  
  Root URL configuration. Routes URLs to app-specific `urls.py`.

- **granttracker/wsgi.py**  
  WSGI entry point for deployment.

- **granttracker/asgi.py**  
  ASGI entry point for async servers.

- **granttracker/db_backend/**  
  Custom database backend code (if any).

---

## 4. Each App Folder (e.g., `grants/`, `budget/`, etc.)

Each app is a self-contained Django module. Here’s what you’ll find in each:

### Common Files in Each App

- **__init__.py**  
  Marks the folder as a Python package.

- **admin.py**  
  Registers models with Django admin.

- **apps.py**  
  App configuration.

- **forms.py**  
  Django forms for user input (if present).

- **models.py**  
  Database models (tables) for the app.

- **tests.py**  
  Unit tests for the app.

- **urls.py**  
  URL patterns for the app.

- **views.py**  
  Functions/classes that handle web requests and return responses.

- **migrations/**  
  Database migration files (auto-generated by Django when models change).

- **management/commands/**  
  Custom Django management commands (scripts you can run via `manage.py`).

---

## 5. App-by-App Breakdown

### A. ai_engine/
**Purpose:** Machine learning logic, model training, and prediction.

- **ml_pipeline.py**  
  Functions for extracting features, running predictions, etc.

- **dataset/model.joblib**  
  Saved ML model.

- **dataset/training_data.csv**  
  Training data for the ML model.

- **management/commands/**  
  - `export_training_data.py`: Exports data for ML training.
  - `train_ml_model.py`: Trains the ML model.

- **models.py**  
  ML-related database models (e.g., model status, predictions).

- **signals.py**  
  Django signals for ML events (e.g., retraining on new data).

- **views.py**  
  Views for ML-related pages (e.g., model status, overview).

---

### B. api/
**Purpose:** API endpoints (if any).

- **models.py, views.py, urls.py, etc.**  
  Standard Django app structure for API logic.

---

### C. budget/
**Purpose:** Budget management for schools/grants.

- **models.py**  
  Budget categories, line items, periods, transfers, etc.

- **forms.py**  
  Forms for creating/editing budget items.

- **views.py**  
  Handles budget overviews, item CRUD, period management, etc.

- **management/commands/add_dummy_transfers.py**  
  Script to add dummy transfer data for testing.

---

### D. community/
**Purpose:** Community features (forums, announcements, events, messages).

- **models.py**  
  Forum, topic, post, announcement, event, message models.

- **forms.py**  
  Forms for creating/editing community content.

- **views.py**  
  Handles forum, event, announcement, and message pages.

---

### E. core/
**Purpose:** Core site features (users, authentication, dashboard, audit logs).

- **models.py**  
  User, school, audit log, and related models.

- **forms.py**  
  User registration, login, profile, and school forms.

- **views.py**  
  Dashboard, login, registration, user management, etc.

---

### F. grants/
**Purpose:** Grant proposals, categories, documents, reviews, allocations.

- **models.py**  
  - `GrantProposal`: Main grant application.
  - `GrantCategory`: Types of grants.
  - `ProposalDocument`: Uploaded documents.
  - Other related models.

- **forms.py**  
  Forms for proposals, categories, and criteria.

- **views.py**  
  Handles:
  - Listing, creating, editing, deleting proposals
  - Category management
  - Document upload/OCR
  - ML scoring and recommendations
  - Approving/rejecting proposals
  - Exporting data (Excel/PDF)

- **management/commands/**  
  - `fix_null_created_at.py`: Data cleanup.
  - `print_proposal_created_at.py`: Data inspection.

---

### G. procurement/
**Purpose:** Procurement and tender management.

- **models.py**  
  Tenders, bids, and related models.

- **forms.py**  
  Forms for tenders and bids.

- **views.py**  
  Tender listing, detail, bid submission, etc.

---

### H. reporting/
**Purpose:** Reports, criteria, and responses.

- **models.py**  
  Criteria for proposals, supplier criteria, responses, etc.

- **forms.py**  
  Forms for criteria and responses.

- **views.py**  
  Report generation, export, and overview pages.

- **management/commands/**  
  - `add_dummy_reporting_data.py`: Add test data.
  - `load_criteria_demo.py`: Load demo criteria.

---

### I. training/
**Purpose:** Training courses, sessions, enrollments, certificates.

- **models.py**  
  Courses, sessions, enrollments, certificates.

- **forms.py**  
  Forms for course/session management.

- **views.py**  
  Course listing, enrollment, certificate management, etc.

---

## 6. Templates

- **templates/**  
  Contains HTML files for each app, e.g.:
  - `grants/proposal_list.html`
  - `budget/overview.html`
  - `core/dashboard.html`
  - `community/forum_list.html`
  - `reporting/annual_grant_report.html`
  - `training/course_list.html`
  - `base.html` (site-wide base template)

---

## 7. Static Files

- **static/css/**  
  Site-wide stylesheets.

- **static/js/**  
  JavaScript files.

- **static/images/**  
  Images used in the site.

---

## 8. How Everything Connects

- **User requests a URL** → **project’s `urls.py`** routes to the correct app’s `urls.py` → **app’s `views.py`** handles the request, using **models.py** for data and **forms.py** for input → **renders a template** from `templates/`.

- **ML features**: The `ai_engine` is used by the `grants` app to score proposals and provide recommendations.

- **Management commands**: Custom scripts for data import/export, ML training, and test data.

---

## 9. Summary Table

| Folder/File         | Purpose/What it Does                                                                 |
|---------------------|-------------------------------------------------------------------------------------|
| manage.py           | Django’s main command-line tool                                                     |
| requirements.txt    | Python dependencies                                                                 |
| granttracker/       | Project settings, root URLs, WSGI/ASGI                                              |
| ai_engine/          | Machine learning logic, training, prediction                                        |
| api/                | API endpoints (if any)                                                              |
| budget/             | Budget management (models, views, forms)                                            |
| community/          | Forums, announcements, events, messages                                             |
| core/               | Users, authentication, dashboard, audit logs                                        |
| grants/             | Grant proposals, categories, documents, ML scoring, approval/rejection, export      |
| procurement/        | Procurement and tender management                                                   |
| reporting/          | Reports, criteria, responses, report generation                                     |
| training/           | Training courses, sessions, enrollments, certificates                               |
| static/             | CSS, JS, images                                                                     |
| templates/          | HTML templates for all apps                                                         |
| media/              | Uploaded files                                                                      |

---

## 10. How to Explore Further

- **Want to see how a feature works?**  
  Start with the app’s `views.py` and follow the logic to `models.py`, `forms.py`, and templates.

- **Want to add a new feature?**  
  Add models, forms, views, templates, and URLs in the relevant app.

- **Want to understand ML integration?**  
  Check `ai_engine/ml_pipeline.py` and how it’s used in `grants/views.py`.

---

**If you want a deep dive into any specific file or feature, just ask!** 